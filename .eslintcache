[{"/home/aditya/all/twitter-clone-web/src/pages/Home.tsx":"1","/home/aditya/all/twitter-clone-web/src/components/tweet/tweet.styles.ts":"2","/home/aditya/all/twitter-clone-web/src/components/tweet/Tweet.tsx":"3","/home/aditya/all/twitter-clone-web/src/helpers/refresh.ts":"4","/home/aditya/all/twitter-clone-web/src/stithi/actions/likeActions.ts":"5","/home/aditya/all/twitter-clone-web/src/App.tsx":"6","/home/aditya/all/twitter-clone-web/src/constants/urls.ts":"7","/home/aditya/all/twitter-clone-web/src/hooks/useForm.ts":"8","/home/aditya/all/twitter-clone-web/src/stithi/reducers/likeClickReducer.ts":"9","/home/aditya/all/twitter-clone-web/src/stithi/actionTypes.ts":"10","/home/aditya/all/twitter-clone-web/src/routes/Routes.tsx":"11","/home/aditya/all/twitter-clone-web/src/assets/tweetActionsSVGs.tsx":"12","/home/aditya/all/twitter-clone-web/src/components/svgs/LikeSVG.tsx":"13"},{"size":3842,"mtime":1607780635929,"results":"14","hashOfConfig":"15"},{"size":916,"mtime":1607612953291,"results":"16","hashOfConfig":"15"},{"size":1724,"mtime":1607782966130,"results":"17","hashOfConfig":"15"},{"size":261,"mtime":1607683952372,"results":"18","hashOfConfig":"15"},{"size":441,"mtime":1607776792995,"results":"19","hashOfConfig":"15"},{"size":521,"mtime":1607776943953,"results":"20","hashOfConfig":"15"},{"size":204,"mtime":1607700244120,"results":"21","hashOfConfig":"15"},{"size":702,"mtime":1607313749979,"results":"22","hashOfConfig":"15"},{"size":508,"mtime":1607776606057,"results":"23","hashOfConfig":"15"},{"size":64,"mtime":1607776308511,"results":"24","hashOfConfig":"15"},{"size":538,"mtime":1606390492823,"results":"25","hashOfConfig":"15"},{"size":2330,"mtime":1607782347332,"results":"26","hashOfConfig":"15"},{"size":908,"mtime":1607782955964,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"2mwcxi",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/aditya/all/twitter-clone-web/src/pages/Home.tsx",["55","56","57","58"],"import React, { useEffect, useState } from \"react\";\nimport { myImage } from \"../constants/urls\";\nimport * as S from \"./home.styles\";\nimport {\n  useCreateTweetMutation,\n  useGetLikesQuery,\n  useGetTweetsByUserQuery,\n} from \"../generated/graphql\";\nimport Tweet from \"../components/tweet/Tweet\";\nimport { refresh } from \"../helpers/refresh\";\nimport { StyledDiv } from \"../constants/styles\";\nimport { useHighContext } from \"stithi\";\nimport { contextNames } from \"../stithi/callContext\";\n\ninterface HomeProps {}\n\ninterface UserTweetsI {\n  tweet_id: number;\n  tweet_content: string;\n  name: string;\n  username: string;\n  liked: boolean;\n}\n\nconst Home: React.FC<HomeProps> = () => {\n  const [{ data: createTweetData }, createTweet] = useCreateTweetMutation();\n  const [tweetInput, setTweetInput] = useState<string>(\"\");\n  const [\n    { data: tweets, fetching: fetchingTweets },\n    refetchTweets,\n  ] = useGetTweetsByUserQuery();\n  const [{ data: likeData, fetching: fetchingLikes }, ref] = useGetLikesQuery();\n  const [userFeed, setUserFeed] = useState<Array<UserTweetsI>>([]);\n  const { unclick, isClicked } = useHighContext<any>(contextNames.likeClick);\n\n  useEffect(() => {\n    ref({ requestPolicy: \"network-only\" });\n    unclick();\n  }, [isClicked]);\n\n  console.log(userFeed);\n\n  useEffect(() => {\n    if (likeData && tweets) {\n      if (\n        likeData.getLikes.likes.length > -1 &&\n        tweets.getTweetsByUser.tweets.length > -1\n      ) {\n        console.log(\"fine\");\n        let finalUserFeed: Array<UserTweetsI> = [];\n        for (let i = 0; i < tweets.getTweetsByUser.tweets.length; i++) {\n          const {\n            tweet_id,\n            tweet_content,\n            name,\n            username,\n          } = tweets.getTweetsByUser.tweets[i];\n          let isLiked = false;\n          for (let j = 0; j < likeData.getLikes.likes.length; j++) {\n            if (likeData.getLikes.likes[j].tweet_id === tweet_id) {\n              isLiked = true;\n            }\n          }\n          finalUserFeed.push({\n            tweet_id,\n            tweet_content,\n            name,\n            username,\n            liked: isLiked,\n          });\n        }\n        setUserFeed(() => finalUserFeed);\n      }\n    }\n  }, [fetchingLikes, fetchingTweets]);\n\n  useEffect(() => {\n    refetchTweets({ requestPolicy: \"network-only\" });\n  }, [refresh(createTweetData)]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setTweetInput(() => e.target.value);\n  };\n\n  const makeTweet = () => {\n    createTweet({ tweet_content: tweetInput });\n  };\n\n  return (\n    <S.BaseComponent>\n      <S.HomeMain>\n        <S.FeedHeader>\n          <S.PageName>Home</S.PageName>\n          <S.CreateTweet>\n            <S.ProfileImageInc>\n              <S.IncImage src={myImage} />\n            </S.ProfileImageInc>\n            <S.MTweet>\n              <S.TweetInput>\n                <S.TweetInputField\n                  placeholder=\"What's Happening?\"\n                  onBlur={handleChange}\n                />\n              </S.TweetInput>\n              <S.EditTweetOptions>\n                <S.TweetAc></S.TweetAc>\n                <S.TweetButton onClick={makeTweet}>Tweet</S.TweetButton>\n              </S.EditTweetOptions>\n            </S.MTweet>\n          </S.CreateTweet>\n        </S.FeedHeader>\n\n        <S.Tweets>\n          {userFeed.length > 0 ? (\n            userFeed.map((tweet) => (\n              <Tweet\n                key={tweet.tweet_id}\n                tweet_content={tweet.tweet_content}\n                username={tweet.username}\n                name={tweet.name}\n                tweet_id={tweet.tweet_id}\n                liked={tweet.liked}\n              />\n            ))\n          ) : (\n            <StyledDiv>Loading...</StyledDiv>\n          )}\n        </S.Tweets>\n      </S.HomeMain>\n    </S.BaseComponent>\n  );\n};\nexport default Home;\n","/home/aditya/all/twitter-clone-web/src/components/tweet/tweet.styles.ts",[],"/home/aditya/all/twitter-clone-web/src/components/tweet/Tweet.tsx",["59"],"/home/aditya/all/twitter-clone-web/src/helpers/refresh.ts",[],"/home/aditya/all/twitter-clone-web/src/stithi/actions/likeActions.ts",[],"/home/aditya/all/twitter-clone-web/src/App.tsx",[],"/home/aditya/all/twitter-clone-web/src/constants/urls.ts",[],"/home/aditya/all/twitter-clone-web/src/hooks/useForm.ts",[],"/home/aditya/all/twitter-clone-web/src/stithi/reducers/likeClickReducer.ts",[],"/home/aditya/all/twitter-clone-web/src/stithi/actionTypes.ts",[],"/home/aditya/all/twitter-clone-web/src/routes/Routes.tsx",[],"/home/aditya/all/twitter-clone-web/src/assets/tweetActionsSVGs.tsx",[],"/home/aditya/all/twitter-clone-web/src/components/svgs/LikeSVG.tsx",[],{"ruleId":"60","severity":1,"message":"61","line":39,"column":6,"nodeType":"62","endLine":39,"endColumn":17,"suggestions":"63"},{"ruleId":"60","severity":1,"message":"64","line":75,"column":6,"nodeType":"62","endLine":75,"endColumn":37,"suggestions":"65"},{"ruleId":"60","severity":1,"message":"66","line":79,"column":6,"nodeType":"62","endLine":79,"endColumn":32,"suggestions":"67"},{"ruleId":"60","severity":1,"message":"68","line":79,"column":7,"nodeType":"69","endLine":79,"endColumn":31},{"ruleId":"70","severity":1,"message":"71","line":1,"column":17,"nodeType":"72","messageId":"73","endLine":1,"endColumn":26},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ref' and 'unclick'. Either include them or remove the dependency array.","ArrayExpression",["74"],"React Hook useEffect has missing dependencies: 'likeData' and 'tweets'. Either include them or remove the dependency array.",["75"],"React Hook useEffect has a missing dependency: 'refetchTweets'. Either include it or remove the dependency array.",["76"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","CallExpression","@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [isClicked, ref, unclick]",{"range":"83","text":"84"},"Update the dependencies array to be: [fetchingLikes, fetchingTweets, likeData, tweets]",{"range":"85","text":"86"},"Update the dependencies array to be: [refetchTweets]",{"range":"87","text":"88"},[1235,1246],"[isClicked, ref, unclick]",[2210,2241],"[fetchingLikes, fetchingTweets, likeData, tweets]",[2324,2350],"[refetchTweets]"]